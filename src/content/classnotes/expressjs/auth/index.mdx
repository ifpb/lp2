---
title: Autenticação
---

import CodePreview from '../../../../components/CodePreview.astro';
import CodeTree from '../../../../components/CodeTree.astro';

# {frontmatter.title}

<CodeTree src="/codes/expressjs/invest-app-auth" githubUrl={true} devContainerUrl={true} />

## JSON Web Token (JWT)

Fluxo de Requisição:

![](/lp2/imgs/expressjs/auth/jwt-request.png)

[jwt.io](https://jwt.io/#debugger-io?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImlhdCI6MTYzMzkxNDc3MiwiZXhwIjoxNjMzOTE1MDcyfQ.wGs4R42bIwKhTiFWVZrs-QGs_0bEWSc69rjylXj7nPE):

![](/lp2/imgs/expressjs/auth/jwt-token.png)

## Middleware

```text
Express -> Middleware -> Router
```

```bash
$ npm install jsonwebtoken
```

<CodePreview src="/codes/expressjs/invest-app-auth/src/middleware/auth.js" highlightLines="9" />

<CodePreview src="/codes/expressjs/invest-app-auth/.env.example" highlightLines="10" />

```bash
$ cp .env.example .env
```

## Router

<CodePreview src="/codes/expressjs/invest-app-auth/src/routes.js" highlightLines="2-3,5,20,44,64,78,105,119,137,153-165,167-189" />

<CodePreview src="/codes/expressjs/invest-app-auth/requests.http" highlightLines="28-37,43-46,51,57,63,71,86,91,96,103,118" />

## View

Login:

![](/lp2/imgs/expressjs/auth/signin.png)

<CodePreview src="/codes/expressjs/invest-app-auth/public/signup.html" />

<CodePreview src="/codes/expressjs/invest-app-auth/public/js/signup.js" />

<CodePreview src="/codes/expressjs/invest-app-auth/public/js/services/api.js" highlightLines="5,30,49,71" />

<CodePreview src="/codes/expressjs/invest-app-auth/public/js/lib/auth.js" highlightLines="1,9,13,19" />

Home:

![](/lp2/imgs/expressjs/auth/home-profile.png)

![](/lp2/imgs/expressjs/auth/home-form.png)

<CodePreview src="/codes/expressjs/invest-app-auth/public/home.html" />

<CodePreview src="/codes/expressjs/invest-app-auth/public/js/home.js" highlightLines="240,242" />
