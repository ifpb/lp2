---
title: Cadastro de Usu√°rio
---

import CodePreview from '../../../../components/CodePreview.astro';
import CodeTree from '../../../../components/CodeTree.astro';

# {frontmatter.title}

<CodeTree src="/codes/expressjs/invest-app-prismajs-user" githubUrl={true} devContainerUrl={true} />

## Migration

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/prisma/schema.prisma" highlightLines="21-22,34,39" />

```bash
$ npx prisma migrate reset
$ npx prisma migrate dev --name create_user
```

Tabelas:

![](/lp2/imgs/expressjs/prismajs-user/database.png)

## Model

Blowfish ([bcrypt](https://www.npmjs.com/package/bcrypt)):

```bash
$ npm install bcrypt
```

[Encrypt](https://bcrypt-generator.com/):

bcrypt.hash(plainPassword, saltRounds)

```js
bcrypt.hash('12345678', 10)
//=> $2a$10$13Aak6RFaLSM2BWra67RA.KElfrt41YQsTjy9nul0bxBhXI2vjiPe
```

```js
bcrypt.hash('12345678', 10)
//=> $2a$10$CZHQV57ViPynbUbeffLU7.cTV8Rr9PjlJXkoe/Xu1FIUXA/I0we5C
```

[Decrypt](https://bcrypt-generator.com/):

bcrypt.compare(plainPassword, hash)

```js
bcrypt.compare(
  '12345678',
  '$2a$10$13Aak6RFaLSM2BWra67RA.KElfrt41YQsTjy9nul0bxBhXI2vjiPe'
)
//=> true
```

```js
bcrypt.compare(
  '12345678',
  '$2a$10$CZHQV57ViPynbUbeffLU7.cTV8Rr9PjlJXkoe/Xu1FIUXA/I0we5C'
)
//=> true
```

dotenv:

```bash
$ npm install dotenv
```

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/src/index.js" highlightLines="2" />

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/.env.example" highlightLines="10" />

```bash
$ cp .env.example .env
```

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/src/models/User.js" highlightLines="4,6,8" />

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/src/models/Investment.js" highlightLines="13-51,66-79,93-109,128-169,179-183" />

## Router

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/src/routes.js"  highlightLines="15,19-27,68,74-82,124-138" />

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/requests.http" highlightLines="5-15" />

## View

![](/lp2/imgs/expressjs/prismajs-user/signup.png)

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/public/signup.html" />

<CodePreview src="/codes/expressjs/invest-app-prismajs-user/public/js/signup.js" />
